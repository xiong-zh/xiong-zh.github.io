(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{241:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"windows-下-python-虚拟环境全解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-下-python-虚拟环境全解"}},[a._v("#")]),a._v(" Windows 下 Python 虚拟环境全解")]),a._v(" "),s("blockquote",[s("p",[a._v("每个Python应用可能需要各自拥有一套“独立”的Python运行环境。虚拟环境 就是用来为一个应用创建一套“隔离”的 Python运行环境")])]),a._v(" "),s("h2",{attrs:{id:"virtualenv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#virtualenv"}},[a._v("#")]),a._v(" virtualenv")]),a._v(" "),s("h3",{attrs:{id:"virtualenv-的基本用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#virtualenv-的基本用法"}},[a._v("#")]),a._v(" virtualenv 的基本用法")]),a._v(" "),s("blockquote",[s("p",[a._v("A tool for creating isolated 'virtual' python environments.")])]),a._v(" "),s("p",[a._v("查看是否已经安装过 virtualenv")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("pip list\n")])])]),s("p",[a._v("安装 virtualenv")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" virtualenv\n")])])]),s("p",[a._v("使用 virtualenv 创建一个 Python 虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建使用系统默认Python 版本的虚拟环境")]),a._v("\nvirtualenv myenv\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建指定 Python 版本的 虚拟环境")]),a._v("\nvirtualenv -p C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Python37"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("python.exe myenv\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" myenv\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入虚拟环境")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# powershell 默认不允许执行未签名的脚本，为了能成功进入虚拟环境，请先执行：")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Set-ExecutionPolicy -Scope CurrentUser")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ExecutionPolicy: RemoteSigned")]),a._v("\n."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Scripts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("activate\n\n")])])]),s("p",[a._v("成功进入虚拟环境的标志是，在命令提示符前面显示 用括号包裹的 Python 虚拟环境名："),s("strong",[a._v("(myenv) PS D:\\code\\myenv")])]),a._v(" "),s("p",[a._v("查看虚拟环境下的pip安装包")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("pip list\n")])])]),s("p",[a._v("可以看到只有 "),s("strong",[a._v("pip")]),a._v(" , "),s("strong",[a._v("setuptools")]),a._v(" , "),s("strong",[a._v("wheel")]),a._v(" 三个默认安装包")]),a._v(" "),s("p",[a._v("退出虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在虚拟环境的任意目录下")]),a._v("\ndeactivate\n")])])]),s("h2",{attrs:{id:"virtualenvwrapper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#virtualenvwrapper"}},[a._v("#")]),a._v(" virtualenvwrapper")]),a._v(" "),s("blockquote",[s("p",[a._v("virtualenvwrapper 基于 virtualenv， 可以更方便的管理 Python 虚拟环境， 如果使用 virtualenvwrapper-win 作为 Python 虚拟环境的管理工具，完全可以不必安装 virtualenv")])]),a._v(" "),s("p",[s("strong",[a._v("需要注意的是， virtualenvwrapper 在 Windows 系统中 只能通过 cmd 才能正常使用")])]),a._v(" "),s("p",[a._v("安装 virtualenvwrapper")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 非Windows")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pip install virtualenvwrapper")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Windows")]),a._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" virtualenvwrapper-win\n")])])]),s("p",[a._v("创建并进入虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("mkvirtualenv myenv\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定 Python 版本创建 虚拟环境")]),a._v("\nmkvirtualenv --python"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("python37"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("python.ext myenv\n")])])]),s("p",[a._v("通过以上命令创建的虚拟环境，会统一储存在 "),s("strong",[a._v("C:\\Users\\Administrator\\Envs\\")])]),a._v(" "),s("p",[a._v("如果想更改虚拟环境储存的目录，需要设置一个 "),s("strong",[a._v("WORKON_HOME")]),a._v(" 的系统环境变量， 关于如何设置 Windows 环境变量，请找 "),s("a",{attrs:{href:"https://www.baidu.com",title:"百度",target:"_blank",rel:"noopener noreferrer"}},[a._v("度娘"),s("OutboundLink")],1),a._v(" 或 "),s("a",{attrs:{href:"https://www.google.com.hk",title:"谷歌",target:"_blank",rel:"noopener noreferrer"}},[a._v("谷哥"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/12493822-c7037731f61af48a.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/362/format/webp",alt:"WORKON_HOME",title:"WORKON_HOME"}}),s("br")]),a._v(" "),s("p",[a._v("进入虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可以在任意目录，下切换虚拟环境")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 注意， 该命令在powershell 终端无效， 在 cmd 中才有效果")]),a._v("\nworkon myenv\n")])])]),s("p",[a._v("删除虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("rmvirtualenv myenv\n")])])]),s("p",[a._v("查看所有虚拟环境")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("lsvirtualenv\n")])])]),s("p",[a._v("进入当前虚拟环境所在的目录")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("cdvirtualenv\n")])])]),s("h2",{attrs:{id:"pycharm-与-virtualenvwrapper-的配合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pycharm-与-virtualenvwrapper-的配合"}},[a._v("#")]),a._v(" Pycharm 与 virtualenvwrapper 的配合")]),a._v(" "),s("p",[s("strong",[a._v("pycharm 本身集成了 virtualenv， 创建新项目时会要求生成虚拟环境， 只要把pycharm生成的虚拟环境安装到 virtualenvwrapper 的虚拟环境目录 ，那么 virtualenvwrapper 同样可以管理 Pycharm生成的是虚拟环境")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/12493822-1fdaa9871675a5ed.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/778/format/webp",alt:"Pycharm 创建虚拟环境",title:"Pycharm 创建虚拟环境"}}),s("br")]),a._v(" "),s("Valine")],1)}),[],!1,null,null,null);t.default=n.exports}}]);