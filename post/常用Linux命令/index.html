<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ZhangXiong</title>
<meta name="description" content="凡心所向,素履所往。生如逆旅，一苇以航。" />
<link rel="shortcut icon" href="https://xiong-zh.github.io/favicon.ico?v=1580565597732">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.remixicon.com/releases/v1.3.1/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://xiong-zh.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="ZhangXiong - Atom Feed" href="https://xiong-zh.github.io/atom.xml">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156420077-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156420077-1');
</script>


  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="remixicon-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://xiong-zh.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://xiong-zh.github.io/images/avatar.png?v=1580565597732" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">ZhangXiong</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            
          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="remixicon-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          回到首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          历史归档
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          所有标签
        </a>
      
    
      
        <a href="/documents/" class="menu" style="animation-delay: 0.6000000000000001s" target="_blank">
          后端图谱
        </a>
      
    
      
        <a href="/post/about" class="menu" style="animation-delay: 0.8s">
          关于｜友链
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> Copyright © 2020 <a href="https://zhangxiong.net/" target="_blank">zhangxiong</a> 版权所有</div>
    <a class="rss" href="https://xiong-zh.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">常用Linux命令</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2020-01-14 / 9 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="http://zhangxiong-blog-pic.test.upcdn.net/blog/img/f24.jpg" alt="">
        
        <div class="post-content yue">
          <p>超全整理！Linux shell及常用36类命令汇总</p>
<!-- more -->
<pre><code>[root@ping ~]# tree -L 1 /
</code></pre>
<p>使用tree 命令查看根目录下的一层的目录结构</p>
<pre><code>ls - list directory contents
[root@ping ~]# ls -l /
</code></pre>
<p>以长格式显示文件和目录的信息</p>
<pre><code>[root@ping ~]# ls -d /
</code></pre>
<p>显示目录和文件</p>
<pre><code>[root@ping ~]# ls -d /*
</code></pre>
<p>根目录下的所有的目录和文件</p>
<pre><code>cd - Change the shell working directory
[root@ping ~]# cd -
</code></pre>
<p>上次一次所在的目录</p>
<pre><code>[root@ping /]# cd .
</code></pre>
<p>当前目录</p>
<pre><code>[root@ping ~]# cd ..
</code></pre>
<p>这个目录的上一次目录</p>
<pre><code>[root@ping /]# cd ~
</code></pre>
<p>当前用户的家目录</p>
<pre><code>pwd - Print the name of the current working directory.
[root@ping ~]# pwd
</code></pre>
<p>查看当前所处的目录</p>
<pre><code>cp - copy files and directories
[root@ping ~]# cp
</code></pre>
<p>拷贝文件或目录</p>
<pre><code>alias - Define or display aliases
[root@ping ~]# alias rm =&quot;mv&quot;
</code></pre>
<p>定义别名alies 为mv 命令</p>
<pre><code>unalias - Remove each NAME from the list of defined aliases
[root@ping ~]# alias
alias -rf='you want remvoe files or directories to mv'
alias cp='cp -i'
alias l.='ls -d .* --color=auto'
alias ll='ls -l --color=auto'
alias ls='ls --color=auto'
alias mv='mv -i'
[root@ping ~]# unalias mv
</code></pre>
<p>取消mv这个别名</p>
<pre><code>cat - concatenate files and print on the standard output
[root@ping ~]# cat -n /root/.bashrc
</code></pre>
<p>查看文件内容并列出行号</p>
<pre><code>find - search for files in a directory hierarchy
option:！取反、-a(and)并且、-o(or)
[root@ping ~]# find / -type f -name &quot;useradd&quot;
</code></pre>
<p>查找根目录下文件类型为文本文件并且包含名字是&quot;useradd&quot; 的文件路径</p>
<pre><code>head - output the first part of files
[root@ping ~]# head /etc/services
</code></pre>
<p>默认查看文件前十行内容</p>
<pre><code>tail - output the last part of files
[root@ping ~]# tail /etc/passwd
</code></pre>
<p>默认查看文件后十行内容</p>
<pre><code>[root@ping ~]# tail -f /var/log/messages
</code></pre>
<p>查看文件动态更新的内容</p>
<pre><code>rpm - RPM Package Manager
[root@ping ~]# rpm -ivh /mnt/Packages/elinks.el6_3.x86_64.rpm
</code></pre>
<p>安装显示输出rpm软件包情况</p>
<pre><code>[root@ping ~]# rpm -qa | grep mysql
</code></pre>
<p>查看当前系统安装关于&quot;mysql&quot;的rpm包名</p>
<pre><code>yum - Yellowdog Updater Modified
[root@ping ~]# yum -y install ftp
</code></pre>
<p>用yum安装ftp管理工具</p>
<pre><code>[root@ping ~]# yum grouplist
</code></pre>
<p>查看当前系统已经安装和可以安装的包组</p>
<pre><code>[root@ping ~]# yum -y groupinstall PostgreSQL 数据库服务器
</code></pre>
<p>向当前系统中安装一组软件包</p>
<pre><code>[root@ping ~]# yum info
</code></pre>
<p>显示关于软件包或组的详细信息</p>
<pre><code>[root@ping ~]# yum groupinfo
</code></pre>
<p>查看yum和各个参数的详细信息</p>
<pre><code>[root@ping ~]# yum serache all
</code></pre>
<p>在软件包详细信息中搜索指定字符串</p>
<pre><code>seq - print a sequence of numbers
[root@ping ~]# seq 5
</code></pre>
<p>生成序列从1到5的数字</p>
<pre><code>[root@ping ~]# seq 3 5
</code></pre>
<p>生成序列从3到5的数字</p>
<pre><code>[root@ping ~]# seq 3 3 10
</code></pre>
<p>生成序列3到10中间隔多少个数字</p>
<pre><code>[root@ping ~]# seq -s &quot;&quot; 5
</code></pre>
<p>12345<br>
-s指定分隔符为空</p>
<pre><code>[root@ping ~]# seq -w 10
</code></pre>
<p>生成两位数的数字并对齐</p>
<pre><code>hostname - show or set the system’s host name
[root@ping ~]# hostname
ping
</code></pre>
<p>显示系统主机名</p>
<pre><code>uname - print system information
[root@ping ~]# uname -r
2.6.32-573.el6.x86_64
</code></pre>
<p>显示当前系统的内核版本和操作系统位数</p>
<pre><code>[root@ping ~]# uname -a
Linux ping 2.6.32-573.el6.x86_64 #1 SMP Wed Jul 1 18:23:37 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
<p>显示当前系统的所有版本信息</p>
<pre><code>[root@ping ~]# uname -m
x86_64
</code></pre>
<p>显示当前系统的操作系统位数</p>
<pre><code>whoami - print effective userid
[root@ping ~]# whoami
root
</code></pre>
<p>查看当前登录系统的用户名</p>
<pre><code>su - run a shell with substitute user and group IDs
[root@ping ~]# su - ping
</code></pre>
<p>切换普通用户为ping</p>
<pre><code>logout - Exit a login shell
[root@ping ~]# logout
</code></pre>
<p>退出当前登录shell</p>
<pre><code>history - Display or manipulate the history list
[root@ping ~]# history
</code></pre>
<p>查看当前用户输入命令的历史记录</p>
<pre><code>[root@ping ~]# history -d 122
</code></pre>
<p>指定122行的命令历史记录清除</p>
<pre><code>[root@ping ~]# history -c
</code></pre>
<p>清除当前用户输入命令所有历史记录</p>
<pre><code>runlevel - output previous and current runlevel
[root@ping ~]# runlevel
N 3
</code></pre>
<p>查看当前系统的运行级别</p>
<pre><code>init - Upstart process management daemon
[root@ping ~]# init 5
</code></pre>
<p>切换当前系统的运行级别</p>
<pre><code>chkconfig - updates and queries runlevel information for system services
[root@ping ~]# chkconfig sshd on
</code></pre>
<p>使ssh服务开机自启动</p>
<pre><code>[root@ping ~]# chkconfig --list sshd
</code></pre>
<p>查看ssh服务在每一个运行级别是否为开机自启动</p>
<pre><code>which - shows the full path of (shell) commands
[root@ping ~]# which ps
</code></pre>
<p>搜索ps命令的绝对路径</p>
<pre><code>whereis - locate the binary, source, and manual page files for a com-mand
[root@ping ~]# whereis jobs
</code></pre>
<p>搜索命令的文件所在的绝对路径</p>
<pre><code>[root@ping ~]# whereis -b ping
</code></pre>
<p>只搜索命令的二进制文件的绝对路径<br>
开户网卡和重新读取配置文件</p>
<pre><code>[root@ping ~]# ifdown eth0 &amp;&amp; ifup eth0 ==》 [root@ping ~]# /etc/init.d/network reload
blkid - command-line utility to locate/print block device attributes
[root@ping ~]# blkid
</code></pre>
<p>查看当前系统块设备的UUID号</p>
<pre><code>BASH_BUILTINS(1)
alias, bg, bind, break, builtin, caller, cd, command,
compgen, complete, compopt, continue, declare, dirs, disown, echo,enable, eval, exec, exit, export, false, fc, fg, getopts, hash, help,history, jobs, kill, let, local, logout, mapfile, popd, printf, pushd,pwd, read, readonly, return, set, shift, shopt, source, suspend, test,times, trap, true, type, typeset, ulimit, umask, unalias, unset, wait
</code></pre>
<p>Linux中所有的内置命令，我们说which只能在PATH变量中搜索命令的绝对路径，内置命令是内置在bash中的，所以我们找不到</p>
<pre><code>[root@ping ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0
</code></pre>
<p>DEVICE=eth0 #《==物理设备名，eth1表示第2块网卡</p>
<p>ONBOOT=yes #《==控制网卡是否为开机自启动</p>
<p>NM_CONTROLLED=yes #《==是一个可以让networkmanage管理的工具</p>
<p>BOOTPROTO=none #《==其中，proto取下列值这一：none，引导时不使用 协议;</p>
<p>static静态分配地址;bootp，使用bootp协议, 使用dhcp协议</p>
<pre><code>IPADDR=192.168.114.5 #《==ip address是IP地址
netmask=255.255.255.0 #《==子网掩码，划分网络位和主机位。
resolv.conf - resolver configuration file

[root@ping ~]# cat /etc/resolv.conf
</code></pre>
<p>DNS的客户端文件,DNS在网卡的文件中也可以配置</p>
<pre><code>[root@ping ~]# cat /etc/resolv.conf
nameserver 8.8.8.8
nameserver 202.106.0.20
</code></pre>
<ul>
<li>一般最好配置两个DNS，一个主，一个备</li>
<li>不要配置网卡里设置DNS优先于/etc/resolv.conf<br>
小结：<br>
1、客户端DNS可以在网卡配置文件里设置（ifcfg-eth0）<br>
2、客户端DNS也可以在/etc/resolv.conf里设置<br>
3、网卡里的设置DNS优先于/etc/resolv.conf</li>
</ul>
<pre><code>hosts - The static table lookup for hostnames
[root@ping ~]# cat /etc/hosts
</code></pre>
<p>设定用户IP与名字(或域名)的对应解析表，相当于本地LAN局域网内的DNS</p>
<p>对应windows的文件路径：C:\Windows\System32\drivers\etc\hosts<br>
/etc/hosts:局域网 主机名和ip地址的解析，相当于DNS工具<br>
hosts企业里的作用：<br>
1.开发、产品、测试等人员，用于通过正式的域名测试产品<br>
2.服务器之间的调用可以用域名(内部DNS),方便迁移</p>
<pre><code>[root@ping ~]# cat /etc/sysconfig/network
</code></pre>
<p>配置主机的主机名的配置文件</p>
<pre><code>fstab - static information about the filesystems
[root@ping ~]# cat /etc/fstab
</code></pre>
<p>设置文件系统挂载信息的文件，使得开机自动挂载磁盘分区<br>
The third field:such as adfs, affs, autofs,coda, coherent, cramfs, devpts, efs, ext2, ext3, hfs, hpfs, iso9660,jfs, minix, msdos, ncpfs, nfs, ntfs, proc, qnx4, reiserfs, romfs,smbfs, sysv, tmpfs, udf, ufs, umsdos, vfat, xenix, xfs, and possiblyothers.<br>
包含了所有的Linux文件系统类型</p>
<pre><code>df - report file system disk space usage
[root@ping ~]# df -h
</code></pre>
<p>以人类可读的信息查看磁盘挂载信息</p>
<pre><code>mount - mount a filesystem
[root@ping ~]# mount
</code></pre>
<p>查看当前系统中所使用的文件系统类型</p>
<pre><code>[root@ping ~]# mount -t ext4 -o loop,noatime,noexec /dev/sdb1 /mnt
</code></pre>
<p>-o 参数：noatime,noexec不改变时间戳，不改变命令<br>
手动挂载一个文件系统<br>
挂载：<br>
1.命令</p>
<pre><code>[root@ping ~]# mount -t ext4 -o noexec /dev/sdb1 /mnt
</code></pre>
<p>2.文件</p>
<pre><code>[root@ping ~]# vim /etc/fstab
dd - convert and copy a file
[root@ping ~]# dd if=/dev/zero of=/dev/sdb1 bs=4096 count=10
</code></pre>
<p>生成一个文件系统</p>
<pre><code>mke2fs - create an ext2/ext3/ext4 filesystem
[root@ping ~]# mkfs.ext4 /dev/sdb1
</code></pre>
<p>格式化文件系统/dev/sdb1</p>
<p>测试手动挂载：<br>
1.创建一个虚拟的块设备</p>
<pre><code>dd if=/dev/zero of=/dev/sdb1 bs=4906 count=100
</code></pre>
<p>2.格式化</p>
<pre><code>mkfs.ext4 /dev/sdb1
</code></pre>
<p>3.挂载</p>
<pre><code>mount -t ext4 -o loop,noatime,noexec /dev/sda1 /mnt
fsck - check and repair a Linux file system
</code></pre>
<pre><code>[root@ping ~]# fsck -A /dev/sda
</code></pre>
<p>磁盘检查(不要检查好磁盘），卸载的状态检查</p>

        </div>

        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://xiong-zh.github.io/post/Python基础知识总结">
                <h3 class="post-title">
                  <i class="remixicon-arrow-left-line"></i>
                  Python基础知识总结
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://xiong-zh.github.io/post/推荐一些Flask资源">
                <h3 class="post-title">
                  推荐一些Flask资源
                  <i class="remixicon-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '7691fdf5a3780e9bb3a4',
    clientSecret: 'f4bd6c2287489e6b24a18af94afd54efcd0f55f9',
    repo: 'xiong-zh.github.io',
    owner: 'xiong-zh',
    admin: ['xiong-zh'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

      </div>
    </div>

    <script src="https://xiong-zh.github.io/media/prism.js"></script>  
<script>

Prism.highlightAll()

let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
